/**
* http://pixeldepth.net / http://sz-ex.com / http://yootil.pixeldepth.net - Ver: 0.4.0
*/
yootil=function(){return{html_encode:function(a){return $("<div />").text(a?a:"").html()},html_decode:function(a){return $("<div />").html(a?a:"").text()},number_format:function(a,b){return(a?a:"").toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+(b?b:","))||"0"}}}();yootil.key=function(){return{pb_key_obj:proboards.plugin.key,exists:function(a){return a&&this.pb_key_obj&&this.pb_key_obj(a)?!0:!1},get_key:function(a){return this.exists(a)?this.pb_key_obj(a):!1},has_value:function(a,b){if(this.exists(a)&&"undefined"!=typeof this.pb_key_obj(a).get){var c=this.pb_key_obj(a).get(b||void 0);if(c&&c.toString().length)return!0}return!1},value:function(a,b,c){return this.exists(a)&&this.has_value(a,b)?(a=this.pb_key_obj(a).get(b||void 0),c&&(a=JSON.parse(a)),a):""},clear:function(a,
b){this.set(a,"",b);return this},set:function(a,b,c,d){if(this.exists(a)){d&&(b=JSON.stringify(b));if("undefined"==typeof c||!c||!c.toString().length)c=b,b=void 0;this.pb_key_obj(a).set(c,b)}return this}}}();yootil.create=function(){return{container:function(a,b,c,d,g,f,h,i){var e="",j=safe_content="undefined"!=typeof c||c?!0:!1,a=a||"",b=b||"";"object"===typeof c&&("undefined"!=typeof c.title&&(j=c.title),"undefined"!=typeof c.content&&(safe_content=c.content));f=f?f:{};d=d?d:{};g=g?g:{};a=j?this.make_safe(a):a;a="undefined"!=typeof h&&!h?a:"<h2>"+a+"</h2>";b=safe_content?this.make_safe(b):b;e=e+'<div class="container">'+$('<div class="title-bar">'+a+"</div>").css(d).wrap("<span/>").parent().html();
e+=$('<div class="content pad-all">'+b+"</div>").css(g).wrap("<span/>").parent().html();e+="</div>";return"undefined"==typeof i||i?$(e).css(f):$(e).css(f).wrap("<span/>").parent().html()},page:function(a,b,c){var d=a.constructor==RegExp?a:RegExp("/"+a,"i");a&&location.href.match(d)&&("undefined"!=typeof b&&b.length&&(document.title+=" - "+b),("undefined"==typeof c||c)&&$("#content[role=main]").children().hide());return yootil.create}}}();yootil.user=function(){return{data:{},has_data:function(){if(this.data&&"undefined"!=typeof this.data.id)return!0;if("undefined"!=typeof proboards){var a=proboards.data;if("undefined"!=typeof a&&"function"==typeof a&&(a=proboards.data("user"),"undefined"!=typeof a))return this.data=a,!0}return!1},logged_in:function(){return this.has_data()&&"undefined"!=typeof this.data.is_logged_in&&this.data.is_logged_in?!0:!1},id:function(){return this.has_data()&&"undefined"!=typeof this.data.id?this.data.id:
0},is_staff:function(){return this.has_data()&&"undefined"!=typeof this.data.is_staff&&this.data.is_staff?!0:!1},name:function(){return this.has_data()&&"undefined"!=typeof this.data.name?this.data.name:""},theme:function(){return this.has_data()&&"undefined"!=typeof this.data.theme_id?this.data.theme_id:0},url:function(){return this.has_data()&&"undefined"!=typeof this.data.url?this.data.url:""}}}();yootil.ajax=function(){return{bind:function(a,b,c,d,g){var f=$(b),a="ajax"+a.substr(0,1).toUpperCase()+a.substr(1);if(1==f.length&&(g=g?g:b,a&&c&&b.length))f[a](function(a,f,e){(!0===d||RegExp(d,"i").test(e.url))&&$.proxy(c,g,a,f,e,b)()});return yootil}}}();yootil.sound=function(){return{audio_obj:null,play:function(a){$.browser.msie?(this.audio_obj||(this.audio_obj=$('<bgsound src="#" autostart="true" loop="1" width="1" height="1" id="yootil_sound_player">').appendTo($("body"))),this.audio_obj.attr("src",a)):(this.audio_obj&&this.audio_obj.remove(),this.audio_obj=$('<embed src="'+a+'" autostart="true" width="1" loop="1" height="1" id="yootil_sound_player">').appendTo($("body")))}}}();
